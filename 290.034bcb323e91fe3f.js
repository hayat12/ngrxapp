"use strict";(self.webpackChunkngrxapp=self.webpackChunkngrxapp||[]).push([[290],{1290:(_,f,i)=>{i.r(f),i.d(f,{BlogModule:()=>X});var h=i(6895),c=i(433),a=i(2591);class T extends class v{createForm(){new c.cw({id:new c.NI("",[]),title:new c.NI("",[]),body:new c.NI("",[]),userId:new c.NI("",[])})}}{constructor(s){super(),this._service=s,this.isEdit=!1}}var t=i(4650),g=i(529),O=i(2340);let p=(()=>{class o{constructor(e){this.http=e}getPosts(){const e=(new g.LE).set("_page","1").set("_limit","10");return this.http.get(`${O.N.baseUrl}/posts`,{params:e})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(g.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),C=(()=>{class o extends T{constructor(e){super(e),this.service=e}ngOnInit(){this.createForm()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-post"]],features:[t.qOj],decls:19,vars:0,consts:[[1,"form-group"],[1,"row"],[1,"col-md-6"],["for","title"],["type","text","name","","id","","placeholder","","aria-describedby","helpId",1,"form-control"],["id","helpId",1,"text-muted"],["for","body"],[1,"offset-6","offset-md-0"],[1,"btn","btn-primary"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),t._uU(4,"Title"),t.qZA(),t._UZ(5,"input",4),t.TgZ(6,"small",5),t._uU(7,"Title is required"),t.qZA()(),t.TgZ(8,"div",2)(9,"label",6),t._uU(10,"Body"),t.qZA(),t._UZ(11,"input",4),t.TgZ(12,"small",5),t._uU(13,"Body is required"),t.qZA()()(),t.TgZ(14,"div",1),t._UZ(15,"div",7),t.TgZ(16,"div",2)(17,"button",8),t._uU(18,"Save"),t.qZA()()()())}}),o})();var n=i(2997);const E=(0,n.ZF)("app"),m=(0,n.ZF)("post"),S=(0,n.ZF)("post");(0,n.P1)(m,S,(o,s)=>s.map(e=>o.find(r=>r.id===e.id)));let y=(()=>{class o extends T{constructor(e,r,l){super(l),this.route=e,this.store=r,this.service=l,this.id=""}ngOnInit(){this.id=this.route.snapshot.params.id,this.store.select(E).subscribe(e=>{e&&null!=e.data&&(this.id=e.data),this.getPost(this.id)})}getPost(e){this.store.select(m)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.gz),t.Y36(n.yh),t.Y36(p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-post"]],features:[t.qOj],decls:2,vars:1,template:function(e,r){1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij("edit-post works! ",r.id,""))}}),o})();const Z=(0,n.PH)("[POST - NGRX - SELECTION] POST_CREATE",(0,n.Ky)()),F=(0,n.PH)("[POST - NGRX - SELECTION] POST_DELETE",(0,n.Ky)()),P=(0,n.PH)("[POST - NGRX - SELECTION] POST_LIST",(0,n.Ky)());function N(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"a",3),t.NdJ("click",function(){const u=t.CHM(e).$implicit,Y=t.oxw();return t.KtG(Y.edit(u.id))}),t._uU(11,"Edit"),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.userId),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.body)}}const x=[{path:"posts",component:(()=>{class o{constructor(e,r,l,u){this.route=e,this.router=r,this._service=l,this.store=u,this.posts=[],this.posts$=this.store.select(m)}ngOnInit(){this.route.queryParams.subscribe(e=>{console.log(e)}),this.loadPost()}loadPost(){this._service.getPosts().subscribe(e=>{this.store.dispatch(P({post:e}))})}edit(e){this.router.navigate(["./",e],{relativeTo:this.route,state:{id:e}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.gz),t.Y36(a.F0),t.Y36(p),t.Y36(n.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-posts"]],decls:24,vars:3,consts:[[1,"container"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"btn","btn-link",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"section")(1,"div",0)(2,"h2"),t._uU(3,"Blog Post"),t.qZA()()(),t.TgZ(4,"section")(5,"div",0),t._UZ(6,"router-outlet"),t.qZA()(),t.TgZ(7,"section")(8,"div",0)(9,"table",1)(10,"thead")(11,"tr")(12,"th"),t._uU(13,"Id"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"User Id"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Title"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Body"),t.qZA(),t._UZ(20,"td"),t.qZA()(),t.TgZ(21,"tbody"),t.YNc(22,N,12,4,"tr",2),t.ALo(23,"async"),t.qZA()()()()),2&e&&(t.xp6(22),t.Q6J("ngForOf",t.lcZ(23,1,r.posts$)))},dependencies:[h.sg,a.lC,h.Ov]}),o})(),children:[{path:"",component:C},{path:":id",component:y}]},{path:"**",redirectTo:"../404"}];let q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.Bz.forChild(x),a.Bz,c.u5,c.UX]}),o})();const B=(0,n.Lq)([],(0,n.on)(P,(o,{post:s})=>s),(0,n.on)(F,(o,{})=>o.filter(e=>e!=e)),(0,n.on)(Z,(o,{})=>o));var d=i(2260),b=i(6129),G=i(4004);let R=(()=>{class o{constructor(e,r){this.actions$=e,this._service=r,this.getPosts$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(P),(0,b.z)(l=>this._service.getPosts().pipe((0,G.U)(u=>Z({id:111}))))))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(d.eX),t.LFG(p))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),X=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[n.Aw.forFeature("post",B),d.sQ.forFeature([R]),h.ez,q]}),o})()}}]);